webpackJsonp([1],{0:function(e,t,s){e.exports=s("eitI")},"2gIU":function(e,t,s){"use strict";function a(e){s("n86c")}Object.defineProperty(t,"__esModule",{value:!0});var n=s("H0FL"),r=s.n(n);for(var o in n)"default"!==o&&function(e){s.d(t,e,function(){return n[e]})}(o);var u=s("peQv"),i=s("froj"),l=a,c=Object(i.a)(r.a,u.a,u.b,!1,l,null,null);t.default=c.exports},"2kMn":function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=s("gs4M"),r=a(n),o=s("FXHS"),u=a(o);t.default={data:function(){return{model:{username:"",email:"",password:"",passwordConfirmation:""},errors:{}}},methods:{signup:function(){var e=this;return(0,u.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("signup",e.model);case 3:e.$store.dispatch("addMessage",{text:"signup success"}),e.$router.push("/login"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.errors=t.t0.response.data;case 10:case"end":return t.stop()}},t,e,[[0,7]])}))()}}}},"3gFA":function(e,t,s){"use strict";s.d(t,"a",function(){return a}),s.d(t,"b",function(){return n});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light mb-3"},[s("div",{staticClass:"container"},[s("a",{staticClass:"navbar-brand",attrs:{href:"javascript:;"},on:{click:function(t){e.$router.push("/")}}},[e._v("VueKoaCli")]),e._v(" "),e._m(0),e._v(" "),s("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarsExample05"}},[e.isAuthenticated?s("ul",{staticClass:"navbar-nav mr-auto"},[s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link"},[e._v(e._s(e.user.username))])]),e._v(" "),s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:"javascript:;"},on:{click:e.logout}},[e._v("Logout")])])]):s("ul",{staticClass:"navbar-nav mr-auto"},[s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:"javascript:;"},on:{click:function(t){e.$router.push("/signup")}}},[e._v("Signup")])]),e._v(" "),s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:"javascript:;"},on:{click:function(t){e.$router.push("/login")}}},[e._v("Login")])])])])])])])},n=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarsExample05","aria-controls":"navbarsExample05","aria-expanded":"false","aria-label":"Toggle navigation"}},[s("span",{staticClass:"navbar-toggler-icon"})])}]},"5lm/":function(e,t,s){"use strict";s.d(t,"a",function(){return a}),s.d(t,"b",function(){return n});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-3"}),e._v(" "),s("div",{staticClass:"col-sm-6"},[s("form",{on:{submit:function(t){return t.preventDefault(),e.signup(t)}}},[s("h1",[e._v("Join our community!")]),e._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"control-label"},[e._v("Username")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.model.username,expression:"model.username"}],staticClass:"form-control",class:{"is-invalid":e.errors.username},attrs:{type:"text",name:"username"},domProps:{value:e.model.username},on:{input:function(t){t.target.composing||e.$set(e.model,"username",t.target.value)}}}),e._v(" "),e.errors.username?s("span",{staticClass:"form-text text-muted"},[e._v(e._s(e.errors.username))]):e._e()]),e._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"control-label"},[e._v("Email")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.model.email,expression:"model.email"}],staticClass:"form-control",class:{"is-invalid":e.errors.email},attrs:{type:"email",name:"email"},domProps:{value:e.model.email},on:{input:function(t){t.target.composing||e.$set(e.model,"email",t.target.value)}}}),e._v(" "),e.errors.email?s("span",{staticClass:"form-text text-muted"},[e._v(e._s(e.errors.email))]):e._e()]),e._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"control-label"},[e._v("Password")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.model.password,expression:"model.password"}],staticClass:"form-control",class:{"is-invalid":e.errors.password},attrs:{type:"password",name:"password"},domProps:{value:e.model.password},on:{input:function(t){t.target.composing||e.$set(e.model,"password",t.target.value)}}}),e._v(" "),e.errors.password?s("span",{staticClass:"form-text text-muted"},[e._v(e._s(e.errors.password))]):e._e()]),e._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"control-label"},[e._v("Password Confirmation")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.model.passwordConfirmation,expression:"model.passwordConfirmation"}],staticClass:"form-control",class:{"is-invalid":e.errors.passwordConfirmation},attrs:{type:"password",name:"passwordConfirmation"},domProps:{value:e.model.passwordConfirmation},on:{input:function(t){t.target.composing||e.$set(e.model,"passwordConfirmation",t.target.value)}}}),e._v(" "),e.errors.passwordConfirmation?s("span",{staticClass:"form-text text-muted"},[e._v(e._s(e.errors.passwordConfirmation))]):e._e()]),e._v(" "),e._m(0)])]),e._v(" "),s("div",{staticClass:"col-sm-3"})])},n=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-group"},[s("button",{staticClass:"btn btn-primary btn-lg"},[e._v("\n          Sign up\n        ")])])}]},BZTh:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("MOWd"),n=s.n(a);for(var r in a)"default"!==r&&function(e){s.d(t,e,function(){return a[e]})}(r);var o=s("3gFA"),u=s("froj"),i=Object(u.a)(n.a,o.a,o.b,!1,null,null,null);t.default=i.exports},DHvs:function(e,t,s){"use strict";function a(e){for(var t=e+"=",s=document.cookie.split(";"),a=0;a<s.length;a++){var n=s[a].trim();if(0===n.indexOf(t))return decodeURIComponent(n.substring(t.length,n.length))}return""}Object.defineProperty(t,"__esModule",{value:!0}),t.getCookie=a},EHrm:function(e,t){e.exports={name:"vue-koa-cli",version:"1.0.0",homepage:"https://lpeihan.github.io/vue-koa-cli",description:"",main:"server.js",scripts:{dev:"gulp",build:"cross-env NODE_ENV=production gulp build",start:"node server",predeploy:"npm run build",deploy:"gh-pages -d dist"},keywords:[],author:"",license:"ISC",dependencies:{bluebird:"^3.5.1","co-redis":"^2.1.1",koa:"^2.5.1","koa-bodyparser":"^4.2.0","koa-onerror":"^4.0.0","koa-redis":"^3.1.2","koa-router":"^7.4.0","koa-send":"^4.1.3","koa-session":"^5.8.1","koa-static":"^4.0.3",lodash:"^4.17.10",log4js:"^2.6.1",mongoose:"^5.1.1",redis:"^2.8.0",validator:"^10.2.0"},devDependencies:{autoprefixer:"^8.3.0",axios:"^0.18.0","babel-core":"^6.26.0","babel-eslint":"^8.2.3","babel-loader":"^7.1.4","babel-plugin-transform-runtime":"^6.23.0","babel-preset-env":"^1.6.1","babel-preset-stage-2":"^6.24.1",chalk:"^2.4.0",concurrently:"^3.5.1","copy-webpack-plugin":"^4.5.1","cross-env":"^5.1.6","css-loader":"^0.28.11",eslint:"^4.19.1","eslint-config-standard":"^11.0.0","eslint-loader":"^2.0.0","eslint-plugin-import":"^2.11.0","eslint-plugin-node":"^6.0.1","eslint-plugin-promise":"^3.7.0","eslint-plugin-standard":"^3.0.1","eslint-plugin-vue":"^4.5.0","extract-text-webpack-plugin":"^3.0.2","file-loader":"^1.1.11","friendly-errors-webpack-plugin":"^1.7.0","gh-pages":"^1.2.0","gulp-eslint":"^4.0.2","gulp-gzip":"^1.4.2","gulp-nodemon":"^2.2.1","gulp-shell":"^0.6.5","gulp-tar":"^2.1.0","html-webpack-plugin":"^3.2.0","node-notifier":"^5.2.1",open:"^0.0.5","optimize-css-assets-webpack-plugin":"^3.2.0",ora:"^2.0.0","postcss-loader":"^2.1.4",rimraf:"^2.6.2","run-sequence":"^2.2.1",shortid:"^2.2.8",stylus:"^0.54.5","stylus-loader":"^3.0.2","url-loader":"^1.0.1",vue:"^2.5.16","vue-loader":"^14.2.2","vue-router":"^3.0.1","vue-style-loader":"^4.1.0","vue-template-compiler":"^2.5.16",vuex:"^3.0.1",webpack:"^3.8.1","webpack-dev-server":"^2.9.7","webpack-merge":"^4.1.2"}}},"ENz/":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("p4Oo"),n=function(e){return e&&e.__esModule?e:{default:e}}(a),r=s("XgRp");t.default={computed:(0,n.default)({},(0,r.mapState)({messages:function(e){return e.messages.messages}})),methods:{close:function(e){this.$store.dispatch("removeMessage",e)}}}},"G/08":function(e,t,s){"use strict";function a(e){s("VTPA")}Object.defineProperty(t,"__esModule",{value:!0});var n=s("agTJ"),r=s.n(n);for(var o in n)"default"!==o&&function(e){s.d(t,e,function(){return n[e]})}(o);var u=s("lJ/e"),i=s("froj"),l=a,c=Object(i.a)(r.a,u.a,u.b,!1,l,null,null);t.default=c.exports},H0FL:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={}},HLKb:function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=s("p4Xc"),r=a(n),o=s("QZW4"),u=a(o),i=s("2gIU"),l=a(i),c=s("cCU2"),d=a(c),f=s("j6hi"),p=a(f);r.default.use(u.default),t.default=new u.default({mode:"history",routes:[{path:"/",name:"index",component:l.default},{path:"/signup",name:"signup",component:d.default},{path:"/login",name:"login",component:p.default}]})},JUGs:function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=s("p4Xc"),r=a(n),o=s("XgRp"),u=a(o),i=s("rOw8"),l=(a(i),s("xZY+")),c=a(l),d=s("N5AZ"),f=a(d);r.default.use(u.default);var p=new u.default.Store({modules:{auth:c.default,messages:f.default},plugins:[]});p.dispatch("setUser"),t.default=p},MOWd:function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=s("gs4M"),r=a(n),o=s("FXHS"),u=a(o),i=s("p4Oo"),l=a(i),c=s("XgRp");t.default={computed:(0,l.default)({},(0,c.mapState)({user:function(e){return e.auth.user},isAuthenticated:function(e){return e.auth.isAuthenticated}})),methods:{logout:function(){var e=this;return(0,u.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("logout");case 3:e.$store.dispatch("addMessage",{text:"logout success"}),e.$router.push("/"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.$store.dispatch("addMessage",{type:"danger",text:"logout failed"});case 10:case"end":return t.stop()}},t,e,[[0,7]])}))()}}}},N5AZ:function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=s("tXGP"),r=a(n),o=s("DrPY"),u=a(o),i=s("yeRG"),l=a(i),c=s("ilw1"),d=a(c),f={messages:[]},p={},v={addMessage:function(e,t){e.messages.push(t)},removeMessage:function(e,t){var s=(0,l.default)(e.messages,{id:t});s>=0&&(e.messages=[].concat((0,r.default)(e.messages.slice(0,s)),(0,r.default)(e.messages.slice(s+1))))}},m={addMessage:function(e,t){var s=e.commit,a=u.default.generate();s("addMessage",(0,d.default)({id:a,type:"success"},t)),setTimeout(function(){s("removeMessage",a)},2e3)},removeMessage:function(e,t){(0,e.commit)("removeMessage",t)}};t.default={state:f,getters:p,mutations:v,actions:m}},OpqK:function(e,t,s){"use strict";s.d(t,"a",function(){return a}),s.d(t,"b",function(){return n});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},e._l(e.messages,function(t){return s("div",{key:t.id,staticClass:"alert",class:{"alert-success":"success"===t.type,"alert-danger":"danger"===t.type}},[s("button",{staticClass:"close",on:{click:function(s){e.close(t.id)}}},[s("span",[e._v("Ã—")])]),e._v("\n    "+e._s(t.text)+"\n")])}))},n=[]},RZdl:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("ENz/"),n=s.n(a);for(var r in a)"default"!==r&&function(e){s.d(t,e,function(){return a[e]})}(r);var o=s("OpqK"),u=s("froj"),i=Object(u.a)(n.a,o.a,o.b,!1,null,null,null);t.default=i.exports},VTPA:function(e,t){},agTJ:function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=s("BZTh"),r=a(n),o=s("RZdl"),u=a(o);t.default={components:{Navigation:r.default,Messages:u.default}}},bHeG:function(e,t,s){"use strict";s.d(t,"a",function(){return a}),s.d(t,"b",function(){return n});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-3"}),e._v(" "),s("div",{staticClass:"col-sm-6"},[s("form",{on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[s("h1",[e._v("Login!")]),e._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"control-label"},[e._v("Username")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.model.username,expression:"model.username"}],staticClass:"form-control",attrs:{type:"text",name:"username"},domProps:{value:e.model.username},on:{input:function(t){t.target.composing||e.$set(e.model,"username",t.target.value)}}})]),e._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"control-label"},[e._v("Password")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.model.password,expression:"model.password"}],staticClass:"form-control",attrs:{type:"password",name:"password"},domProps:{value:e.model.password},on:{input:function(t){t.target.composing||e.$set(e.model,"password",t.target.value)}}})]),e._v(" "),e._m(0)])]),e._v(" "),s("div",{staticClass:"col-sm-3"})])},n=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-group"},[s("button",{staticClass:"btn btn-primary btn-lg"},[e._v("\n          Login\n        ")])])}]},bhTA:function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=s("io2r"),r=a(n),o=s("p4Xc"),u=a(o),i=s("ZsBY"),l=a(i),c=s("JUGs"),d=a(c);l.default.defaults.baseURL="api",l.default.interceptors.response.use(function(e){return d.default.dispatch("setUser"),e},function(e){return r.default.reject(e)}),u.default.prototype.$http=l.default},cCU2:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("2kMn"),n=s.n(a);for(var r in a)"default"!==r&&function(e){s.d(t,e,function(){return a[e]})}(r);var o=s("5lm/"),u=s("froj"),i=Object(u.a)(n.a,o.a,o.b,!1,null,null,null);t.default=i.exports},eIyJ:function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=s("gs4M"),r=a(n),o=s("FXHS"),u=a(o);t.default={data:function(){return{model:{username:"",password:""}}},methods:{login:function(){var e=this;return(0,u.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("login",e.model);case 3:e.$store.dispatch("addMessage",{text:"login success"}),e.$router.push("/"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.$store.dispatch("addMessage",{type:"danger",text:"login failed"});case 10:case"end":return t.stop()}},t,e,[[0,7]])}))()}}}},eitI:function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=s("p4Xc"),r=a(n),o=s("G/08"),u=a(o),i=s("JUGs"),l=a(i),c=s("HLKb"),d=a(c);s("bhTA"),r.default.config.productionTip=!1,new r.default({el:"#app",router:d.default,store:l.default,components:{App:u.default},template:"<App/>"})},j6hi:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("eIyJ"),n=s.n(a);for(var r in a)"default"!==r&&function(e){s.d(t,e,function(){return a[e]})}(r);var o=s("bHeG"),u=s("froj"),i=Object(u.a)(n.a,o.a,o.b,!1,null,null,null);t.default=i.exports},"lJ/e":function(e,t,s){"use strict";s.d(t,"a",function(){return a}),s.d(t,"b",function(){return n});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("navigation"),e._v(" "),s("messages"),e._v(" "),s("transition",{attrs:{name:"fade",mode:"out-in"}},[s("router-view",{staticClass:"container"})],1)],1)},n=[]},n86c:function(e,t){},peQv:function(e,t,s){"use strict";s.d(t,"a",function(){return a}),s.d(t,"b",function(){return n});var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"jumbotron"},[e._v("\n  hello\n")])},n=[]},"xZY+":function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=s("Ee/9"),r=a(n),o=s("ZsBY"),u=a(o),i=s("EHrm"),l=a(i),c=s("DHvs"),d={user:{},isAuthenticated:!1},f={},p={setUser:function(e,t){e.user=t||{},e.isAuthenticated=!(0,r.default)(e.user)}},v={signup:function(e,t){e.commit;return u.default.post("users/signup",t)},login:function(e,t){e.commit;return u.default.post("users/login",t)},logout:function(e){e.commit;return u.default.delete("/users/logout")},setUser:function(e){var t=e.commit,s=void 0;try{s=JSON.parse((0,c.getCookie)(l.default.name+".user"))}catch(e){}t("setUser",s)}};t.default={state:d,getters:f,mutations:p,actions:v}}},[0]);
//# sourceMappingURL=app.b21db1662d6db221ce1f.js.map