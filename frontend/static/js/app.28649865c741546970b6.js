webpackJsonp([1],{0:function(e,t,a){e.exports=a("eitI")},"2gIU":function(e,t,a){"use strict";function s(e){a("zcO3")}Object.defineProperty(t,"__esModule",{value:!0});var n=a("H0FL"),r=a.n(n);for(var o in n)"default"!==o&&function(e){a.d(t,e,function(){return n[e]})}(o);var i=a("peQv"),u=a("froj"),l=s,c=Object(u.a)(r.a,i.a,i.b,!1,l,null,null);t.default=c.exports},"2kMn":function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a("gs4M"),r=s(n),o=a("FXHS"),i=s(o);t.default={data:function(){return{model:{username:"",email:"",password:"",passwordConfirmation:""},errors:{}}},methods:{signup:function(){var e=this;return(0,i.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("signup",e.model);case 3:e.$store.dispatch("addMessage",{text:"signup success"}),e.$router.push("/login"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.errors=t.t0.response.data;case 10:case"end":return t.stop()}},t,e,[[0,7]])}))()}}}},"3gFA":function(e,t,a){"use strict";a.d(t,"a",function(){return s}),a.d(t,"b",function(){return n});var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light mb-3"},[a("div",{staticClass:"container"},[a("a",{staticClass:"navbar-brand",attrs:{href:"javascript:;"},on:{click:function(t){e.$router.push("/")}}},[e._v("VueKoaCli")]),e._v(" "),e._m(0),e._v(" "),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarsExample05"}},[e.isAuthenticated?a("ul",{staticClass:"navbar-nav mr-auto"},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link"},[e._v(e._s(e.user.username))])]),e._v(" "),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"javascript:;"},on:{click:e.logout}},[e._v("Logout")])])]):a("ul",{staticClass:"navbar-nav mr-auto"},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"javascript:;"},on:{click:function(t){e.$router.push("/signup")}}},[e._v("Signup")])]),e._v(" "),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"javascript:;"},on:{click:function(t){e.$router.push("/login")}}},[e._v("Login")])])])])])])])},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarsExample05","aria-controls":"navbarsExample05","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}]},"5lm/":function(e,t,a){"use strict";a.d(t,"a",function(){return s}),a.d(t,"b",function(){return n});var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"}),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.signup(t)}}},[a("h1",[e._v("Join our community!")]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label"},[e._v("Username")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.model.username,expression:"model.username"}],staticClass:"form-control",class:{"is-invalid":e.errors.username},attrs:{type:"text",name:"username"},domProps:{value:e.model.username},on:{input:function(t){t.target.composing||e.$set(e.model,"username",t.target.value)}}}),e._v(" "),e.errors.username?a("span",{staticClass:"form-text text-muted"},[e._v(e._s(e.errors.username))]):e._e()]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label"},[e._v("Email")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.model.email,expression:"model.email"}],staticClass:"form-control",class:{"is-invalid":e.errors.email},attrs:{type:"email",name:"email"},domProps:{value:e.model.email},on:{input:function(t){t.target.composing||e.$set(e.model,"email",t.target.value)}}}),e._v(" "),e.errors.email?a("span",{staticClass:"form-text text-muted"},[e._v(e._s(e.errors.email))]):e._e()]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label"},[e._v("Password")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.model.password,expression:"model.password"}],staticClass:"form-control",class:{"is-invalid":e.errors.password},attrs:{type:"password",name:"password"},domProps:{value:e.model.password},on:{input:function(t){t.target.composing||e.$set(e.model,"password",t.target.value)}}}),e._v(" "),e.errors.password?a("span",{staticClass:"form-text text-muted"},[e._v(e._s(e.errors.password))]):e._e()]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label"},[e._v("Password Confirmation")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.model.passwordConfirmation,expression:"model.passwordConfirmation"}],staticClass:"form-control",class:{"is-invalid":e.errors.passwordConfirmation},attrs:{type:"password",name:"passwordConfirmation"},domProps:{value:e.model.passwordConfirmation},on:{input:function(t){t.target.composing||e.$set(e.model,"passwordConfirmation",t.target.value)}}}),e._v(" "),e.errors.passwordConfirmation?a("span",{staticClass:"form-text text-muted"},[e._v(e._s(e.errors.passwordConfirmation))]):e._e()]),e._v(" "),e._m(0)])]),e._v(" "),a("div",{staticClass:"col-sm-3"})])},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-group"},[a("button",{staticClass:"btn btn-primary btn-lg"},[e._v("\n          Sign up\n        ")])])}]},BZTh:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("MOWd"),n=a.n(s);for(var r in s)"default"!==r&&function(e){a.d(t,e,function(){return s[e]})}(r);var o=a("3gFA"),i=a("froj"),u=Object(i.a)(n.a,o.a,o.b,!1,null,null,null);t.default=u.exports},D0mU:function(e,t,a){t=e.exports=a("TwHH")(!0),t.push([e.i,"\n#app .fade-enter,\n#app .fade-leave-to {\n  opacity: 0;\n}\n#app .fade-enter-active,\n#app .fade-leave-active {\n  transition: opacity 0.3s;\n}","",{version:3,sources:["D:/lph/vue-koa-cli/frontend/app.vue"],names:[],mappings:";AACA;;EAEE,WAAW;CACZ;AACD;;EAEE,yBAAyB;CAC1B",file:"app.vue",sourcesContent:["\n#app .fade-enter,\n#app .fade-leave-to {\n  opacity: 0;\n}\n#app .fade-enter-active,\n#app .fade-leave-active {\n  transition: opacity 0.3s;\n}"],sourceRoot:""}])},DHvs:function(e,t,a){"use strict";function s(e){for(var t=e+"=",a=document.cookie.split(";"),s=0;s<a.length;s++){var n=a[s].trim();if(0===n.indexOf(t))return decodeURIComponent(n.substring(t.length,n.length))}return""}Object.defineProperty(t,"__esModule",{value:!0}),t.getCookie=s},EHrm:function(e,t){e.exports={name:"vue-koa-cli",version:"1.0.0",homepage:"https://lpeihan.github.io/vue-koa-cli",description:"",main:"server.js",scripts:{dev:"gulp",build:"gulp build",start:"node server",predeploy:"npm run build",deploy:"gh-pages -d dist"},keywords:[],author:"",license:"ISC",dependencies:{bluebird:"^3.5.1","co-redis":"^2.1.1",koa:"^2.5.1","koa-bodyparser":"^4.2.0","koa-onerror":"^4.0.0","koa-redis":"^3.1.2","koa-router":"^7.4.0","koa-send":"^4.1.3","koa-session":"^5.8.1","koa-static":"^4.0.3",lodash:"^4.17.10",log4js:"^2.6.1",mongoose:"^5.1.1",redis:"^2.8.0",validator:"^10.2.0"},devDependencies:{autoprefixer:"^8.3.0",axios:"^0.18.0","babel-core":"^6.26.0","babel-eslint":"^8.2.3","babel-loader":"^7.1.4","babel-plugin-transform-runtime":"^6.23.0","babel-preset-env":"^1.6.1","babel-preset-stage-2":"^6.24.1",chalk:"^2.4.0",concurrently:"^3.5.1","copy-webpack-plugin":"^4.5.1","css-loader":"^0.28.11",eslint:"^4.19.1","eslint-config-standard":"^11.0.0","eslint-loader":"^2.0.0","eslint-plugin-import":"^2.11.0","eslint-plugin-node":"^6.0.1","eslint-plugin-promise":"^3.7.0","eslint-plugin-standard":"^3.0.1","eslint-plugin-vue":"^4.5.0","extract-text-webpack-plugin":"^3.0.2","file-loader":"^1.1.11","friendly-errors-webpack-plugin":"^1.7.0","gh-pages":"^1.2.0","gulp-eslint":"^4.0.2","gulp-gzip":"^1.4.2","gulp-nodemon":"^2.2.1","gulp-shell":"^0.6.5","gulp-tar":"^2.1.0","html-webpack-plugin":"^3.2.0","node-notifier":"^5.2.1",open:"^0.0.5","optimize-css-assets-webpack-plugin":"^3.2.0",ora:"^2.0.0","postcss-loader":"^2.1.4",rimraf:"^2.6.2","run-sequence":"^2.2.1",shortid:"^2.2.8",stylus:"^0.54.5","stylus-loader":"^3.0.2","url-loader":"^1.0.1",vue:"^2.5.16","vue-loader":"^14.2.2","vue-router":"^3.0.1","vue-style-loader":"^4.1.0","vue-template-compiler":"^2.5.16",vuex:"^3.0.1",webpack:"^3.8.1","webpack-dev-server":"^2.9.7","webpack-merge":"^4.1.2"}}},"ENz/":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("p4Oo"),n=function(e){return e&&e.__esModule?e:{default:e}}(s),r=a("XgRp");t.default={computed:(0,n.default)({},(0,r.mapState)({messages:function(e){return e.messages.messages}})),methods:{close:function(e){this.$store.dispatch("removeMessage",e)}}}},"G/08":function(e,t,a){"use strict";function s(e){a("ql00")}Object.defineProperty(t,"__esModule",{value:!0});var n=a("agTJ"),r=a.n(n);for(var o in n)"default"!==o&&function(e){a.d(t,e,function(){return n[e]})}(o);var i=a("lJ/e"),u=a("froj"),l=s,c=Object(u.a)(r.a,i.a,i.b,!1,l,null,null);t.default=c.exports},H0FL:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={}},HLKb:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a("p4Xc"),r=s(n),o=a("QZW4"),i=s(o),u=a("2gIU"),l=s(u),c=a("cCU2"),d=s(c),p=a("j6hi"),f=s(p);r.default.use(i.default),t.default=new i.default({mode:"history",routes:[{path:"/",name:"index",component:l.default},{path:"/signup",name:"signup",component:d.default},{path:"/login",name:"login",component:f.default}]})},JUGs:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a("p4Xc"),r=s(n),o=a("XgRp"),i=s(o),u=a("rOw8"),l=(s(u),a("xZY+")),c=s(l),d=a("N5AZ"),p=s(d);r.default.use(i.default);var f=new i.default.Store({modules:{auth:c.default,messages:p.default},plugins:[]});f.dispatch("setUser"),t.default=f},MOWd:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a("gs4M"),r=s(n),o=a("FXHS"),i=s(o),u=a("p4Oo"),l=s(u),c=a("XgRp");t.default={computed:(0,l.default)({},(0,c.mapState)({user:function(e){return e.auth.user},isAuthenticated:function(e){return e.auth.isAuthenticated}})),methods:{logout:function(){var e=this;return(0,i.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("logout");case 3:e.$store.dispatch("addMessage",{text:"logout success"}),e.$router.push("/"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.$store.dispatch("addMessage",{type:"danger",text:"logout failed"});case 10:case"end":return t.stop()}},t,e,[[0,7]])}))()}}}},N5AZ:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a("tXGP"),r=s(n),o=a("DrPY"),i=s(o),u=a("yeRG"),l=s(u),c=a("ilw1"),d=s(c),p={messages:[]},f={},v={addMessage:function(e,t){e.messages.push(t)},removeMessage:function(e,t){var a=(0,l.default)(e.messages,{id:t});a>=0&&(e.messages=[].concat((0,r.default)(e.messages.slice(0,a)),(0,r.default)(e.messages.slice(a+1))))}},m={addMessage:function(e,t){var a=e.commit,s=i.default.generate();a("addMessage",(0,d.default)({id:s,type:"success"},t)),setTimeout(function(){a("removeMessage",s)},2e3)},removeMessage:function(e,t){(0,e.commit)("removeMessage",t)}};t.default={state:p,getters:f,mutations:v,actions:m}},OpqK:function(e,t,a){"use strict";a.d(t,"a",function(){return s}),a.d(t,"b",function(){return n});var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},e._l(e.messages,function(t){return a("div",{key:t.id,staticClass:"alert",class:{"alert-success":"success"===t.type,"alert-danger":"danger"===t.type}},[a("button",{staticClass:"close",on:{click:function(a){e.close(t.id)}}},[a("span",[e._v("×")])]),e._v("\n    "+e._s(t.text)+"\n")])}))},n=[]},RZdl:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("ENz/"),n=a.n(s);for(var r in s)"default"!==r&&function(e){a.d(t,e,function(){return s[e]})}(r);var o=a("OpqK"),i=a("froj"),u=Object(i.a)(n.a,o.a,o.b,!1,null,null,null);t.default=u.exports},agTJ:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a("BZTh"),r=s(n),o=a("RZdl"),i=s(o);t.default={components:{Navigation:r.default,Messages:i.default}}},bHeG:function(e,t,a){"use strict";a.d(t,"a",function(){return s}),a.d(t,"b",function(){return n});var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"}),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[a("h1",[e._v("Login!")]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label"},[e._v("Username")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.model.username,expression:"model.username"}],staticClass:"form-control",attrs:{type:"text",name:"username"},domProps:{value:e.model.username},on:{input:function(t){t.target.composing||e.$set(e.model,"username",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label"},[e._v("Password")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.model.password,expression:"model.password"}],staticClass:"form-control",attrs:{type:"password",name:"password"},domProps:{value:e.model.password},on:{input:function(t){t.target.composing||e.$set(e.model,"password",t.target.value)}}})]),e._v(" "),e._m(0)])]),e._v(" "),a("div",{staticClass:"col-sm-3"})])},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-group"},[a("button",{staticClass:"btn btn-primary btn-lg"},[e._v("\n          Login\n        ")])])}]},bhTA:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}var n=a("io2r"),r=s(n),o=a("p4Xc"),i=s(o),u=a("ZsBY"),l=s(u),c=a("JUGs"),d=s(c);l.default.defaults.baseURL="api",l.default.interceptors.response.use(function(e){return d.default.dispatch("setUser"),e},function(e){return r.default.reject(e)}),i.default.prototype.$http=l.default},cCU2:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("2kMn"),n=a.n(s);for(var r in s)"default"!==r&&function(e){a.d(t,e,function(){return s[e]})}(r);var o=a("5lm/"),i=a("froj"),u=Object(i.a)(n.a,o.a,o.b,!1,null,null,null);t.default=u.exports},eIyJ:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a("gs4M"),r=s(n),o=a("FXHS"),i=s(o);t.default={data:function(){return{model:{username:"",password:""}}},methods:{login:function(){var e=this;return(0,i.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("login",e.model);case 3:e.$store.dispatch("addMessage",{text:"login success"}),e.$router.push("/"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.$store.dispatch("addMessage",{type:"danger",text:"login failed"});case 10:case"end":return t.stop()}},t,e,[[0,7]])}))()}}}},eitI:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}var n=a("p4Xc"),r=s(n),o=a("G/08"),i=s(o),u=a("JUGs"),l=s(u),c=a("HLKb"),d=s(c);a("bhTA"),r.default.config.productionTip=!1,new r.default({el:"#app",router:d.default,store:l.default,components:{App:i.default},template:"<App/>"})},"flI/":function(e,t,a){t=e.exports=a("TwHH")(!0),t.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"index.vue",sourceRoot:""}])},j6hi:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("eIyJ"),n=a.n(s);for(var r in s)"default"!==r&&function(e){a.d(t,e,function(){return s[e]})}(r);var o=a("bHeG"),i=a("froj"),u=Object(i.a)(n.a,o.a,o.b,!1,null,null,null);t.default=u.exports},"lJ/e":function(e,t,a){"use strict";a.d(t,"a",function(){return s}),a.d(t,"b",function(){return n});var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("navigation"),e._v(" "),a("messages"),e._v(" "),a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view",{staticClass:"container"})],1)],1)},n=[]},peQv:function(e,t,a){"use strict";a.d(t,"a",function(){return s}),a.d(t,"b",function(){return n});var s=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"jumbotron"},[e._v("\n  hello\n")])},n=[]},ql00:function(e,t,a){var s=a("D0mU");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var n=a("DulP").default;n("01a78551",s,!0,{})},"xZY+":function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a("Ee/9"),r=s(n),o=a("ZsBY"),i=s(o),u=a("EHrm"),l=s(u),c=a("DHvs"),d={user:{},isAuthenticated:!1},p={},f={setUser:function(e,t){e.user=t||{},e.isAuthenticated=!(0,r.default)(e.user)}},v={signup:function(e,t){e.commit;return i.default.post("users/signup",t)},login:function(e,t){e.commit;return i.default.post("users/login",t)},logout:function(e){e.commit;return i.default.delete("/users/logout")},setUser:function(e){var t=e.commit,a=void 0;try{a=JSON.parse((0,c.getCookie)(l.default.name+".user"))}catch(e){}t("setUser",a)}};t.default={state:d,getters:p,mutations:f,actions:v}},zcO3:function(e,t,a){var s=a("flI/");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var n=a("DulP").default;n("2fd41040",s,!0,{})}},[0]);
//# sourceMappingURL=app.28649865c741546970b6.js.map